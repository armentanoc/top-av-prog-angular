// src/app/pages/cadastro-live/cadastro-live.page.html
<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/dashboard"></ion-back-button>
    </ion-buttons>
    <ion-title>
      <ion-icon name="videocam"></ion-icon>
      Live Insights
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="page-header">
    <ion-icon name="add-circle-outline" color="primary" class="header-icon"></ion-icon>
    <h1>Cadastrar Nova Live</h1>
    <p>Preencha as informações abaixo para criar sua transmissão</p>
  </div>

  <form [formGroup]="liveForm" (ngSubmit)="onSubmit()">
    <ion-card>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-label position="floating">
              <ion-icon name="text"></ion-icon>
              Título da Live *
            </ion-label>
            <ion-input 
              formControlName="titulo" 
              type="text" 
              placeholder="Digite o título da live"
            ></ion-input>
          </ion-item>
          <ion-text color="danger" *ngIf="liveForm.get('titulo')?.invalid && liveForm.get('titulo')?.touched">
            <p class="error-text">Por favor, informe o título da live.</p>
          </ion-text>

          <ion-item>
            <ion-label position="floating">
              <ion-icon name="document-text"></ion-icon>
              Descrição *
            </ion-label>
            <ion-textarea 
              formControlName="descricao" 
              rows="4"
              placeholder="Digite a descrição da live"
            ></ion-textarea>
          </ion-item>
          <ion-text color="danger" *ngIf="liveForm.get('descricao')?.invalid && liveForm.get('descricao')?.touched">
            <p class="error-text">Por favor, informe uma descrição.</p>
          </ion-text>

          <ion-item>
            <ion-label position="floating">
              <ion-icon name="person-circle"></ion-icon>
              ID da Live
            </ion-label>
            <ion-input 
              formControlName="idLive" 
              type="text" 
              placeholder="Ex: QfWnYlhJRhc"
            ></ion-input>
          </ion-item>
          <ion-note>Exemplo: QfWnYlhJRhc</ion-note>

          <ion-item>
            <ion-label position="floating">
              <ion-icon name="pricetags"></ion-icon>
              Tags (opcional)
            </ion-label>
            <ion-input 
              formControlName="tags" 
              type="text" 
              placeholder="javascript, tutorial, programação"
            ></ion-input>
          </ion-item>
          <ion-note>Separe por vírgulas: javascript, tutorial, programação</ion-note>
        </ion-list>
      </ion-card-content>
    </ion-card>

    <div class="button-container">
      <ion-button expand="block" color="medium" (click)="cancel()">
        <ion-icon slot="start" name="close-circle"></ion-icon>
        Cancelar
      </ion-button>
      
      <ion-button expand="block" type="submit" [disabled]="liveForm.invalid">
        <ion-icon slot="start" name="checkmark-circle"></ion-icon>
        Criar Live
      </ion-button>
    </div>
  </form>
</ion-content>
